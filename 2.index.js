(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{4:function(n,t,e){"use strict";e.r(t);var r=e(5),i=e(15),u=e.n(i),c=(e(31),e(32),e(33));window.rp=r;const o=u.a.fromTextArea(document.getElementById("code"),{extraKeys:{"Ctrl-Enter":a,"Cmd-Enter":a,"Shift-Tab":"indentLess","Ctrl-/":"toggleComment","Cmd-/":"toggleComment",Tab:n=>{var t=Array(n.getOption("indentUnit")+1).join(" ");n.replaceSelection(t)}},lineNumbers:!0,mode:"text/x-python",indentUnit:4,autofocus:!0}),_=document.getElementById("console"),f=document.getElementById("error");function a(){_.value="",f.textContent="";const n=o.getValue();try{const t=r.pyEval(n,{stdout:n=>{const t=_.scrollHeight-_.scrollTop===_.clientHeight;_.value+=n,t&&(_.scrollTop=_.scrollHeight)}});null!==t&&(_.value+=`\n${t}\n`)}catch(n){n instanceof WebAssembly.RuntimeError&&(n=window.__RUSTPYTHON_ERROR||n),f.textContent=n,console.error(n)}}document.getElementById("run-btn").addEventListener("click",a);const s=document.getElementById("snippets"),d=()=>{const n=s.value,t=e(71)(`./${n}.py`);o.setValue(t),a()};function l(n){var t;b.write((null!==(t=n)&&""!==t&&(t=t.toString()).replace(/[^\x20-\x7E]/g,""))+"\r\n")}s.addEventListener("change",d),d();const b=new c.Terminal;b.open(document.getElementById("terminal"));const w=r.vmStore.init("term_vm");function g(n="ps1"){return w.exec(`\ntry:\n    import sys as __sys\n    __prompt = __sys.${n}\nexcept:\n    __prompt = ''\nfinally:\n    del __sys\n`),String(w.eval("__prompt"))}function h(){p=[],y="",m=!1}let p,y,m,v;w.setStdout(l),b.write(g()),h(),b.on("data",n=>{const t=n.charCodeAt(0);if(13==t){if(b.write("\r\n"),p.push(y),m){if(""!==y)return y="",void b.write(v);m=!1}try{w.execSingle(p.join("\n"))}catch(n){if(n instanceof SyntaxError&&n.message.includes("EOF"))return v=g("ps2"),b.write(v),m=!0,void(y="");n instanceof WebAssembly.RuntimeError&&(n=window.__RUSTPYTHON_ERROR||n),l(n)}h(),b.write(g())}else 127==t||8==t?y.length>0&&(b.write("\b \b"),y=y.slice(0,-1)):t<32?(b.write("\r\n"+g()),y="",p=[]):(b.write(n),y+=n)})},5:function(n,t,e){"use strict";e.r(t);var r=e(70);function i(){return r.k()}e.d(t,"setup_console_error",function(){return i}),e.d(t,"pyEval",function(){return h}),e.d(t,"__wbg_hasprop_a870d721b91e925e",function(){return v}),e.d(t,"__wbg_getprop_ef152f26344fdb20",function(){return x}),e.d(t,"__wbg_setprop_36352fb0d7511173",function(){return E}),e.d(t,"__wbg_typeof_c7ffeb3cb992b1ac",function(){return A}),e.d(t,"__wbg_instanceof_c879361b6e3350e1",function(){return T}),e.d(t,"__widl_f_log_",function(){return j}),e.d(t,"__widl_f_query_selector_Document",function(){return C}),e.d(t,"__widl_f_get_attribute_Element",function(){return q}),e.d(t,"__widl_f_set_attribute_Element",function(){return U}),e.d(t,"__widl_f_set_Headers",function(){return B}),e.d(t,"__widl_f_new_with_str_and_init_Request",function(){return Z}),e.d(t,"__widl_f_headers_Request",function(){return $}),e.d(t,"__widl_instanceof_Response",function(){return k}),e.d(t,"__widl_f_array_buffer_Response",function(){return W}),e.d(t,"__widl_f_json_Response",function(){return z}),e.d(t,"__widl_f_text_Response",function(){return F}),e.d(t,"__widl_instanceof_Window",function(){return I}),e.d(t,"__widl_f_cancel_animation_frame_Window",function(){return N}),e.d(t,"__widl_f_request_animation_frame_Window",function(){return H}),e.d(t,"__widl_f_document_Window",function(){return P}),e.d(t,"__widl_f_fetch_with_request_Window",function(){return L}),e.d(t,"__wbg_new_acdbe9c25dc35c37",function(){return V}),e.d(t,"__wbg_isArray_1ac2d66dd819d58a",function(){return D}),e.d(t,"__wbg_push_60b55c9bdc824202",function(){return M}),e.d(t,"__wbg_instanceof_ArrayBuffer_013e17ea83ecb687",function(){return J}),e.d(t,"__wbg_isView_9919262c7e43696c",function(){return Y}),e.d(t,"__wbg_values_e8a26a3eb612c7c3",function(){return K}),e.d(t,"__wbg_instanceof_Error_7b8282f5e91987e7",function(){return X}),e.d(t,"__wbg_new_1b8e8daea7ea040d",function(){return G}),e.d(t,"__wbg_message_d88242616016bf36",function(){return Q}),e.d(t,"__wbg_name_e60761cd8847ae32",function(){return nn}),e.d(t,"__wbg_toString_23df02ba028af846",function(){return tn}),e.d(t,"__wbg_newnoargs_a172f39151049128",function(){return en}),e.d(t,"__wbg_apply_a7481c21c11cf4ae",function(){return rn}),e.d(t,"__wbg_call_8a9c8b0a32a202ff",function(){return un}),e.d(t,"__wbg_call_6eed851d946419d8",function(){return cn}),e.d(t,"__wbg_new_e81de07728363789",function(){return on}),e.d(t,"__wbg_set_7b6617967a214624",function(){return _n}),e.d(t,"__wbg_next_1dc1c12b3aad066e",function(){return fn}),e.d(t,"__wbg_done_8b0657c71869dd76",function(){return an}),e.d(t,"__wbg_value_efc53c71db10c238",function(){return sn}),e.d(t,"__wbg_instanceof_Object_3ac4dd2f68c88a68",function(){return dn}),e.d(t,"__wbg_create_bf23c86622adc9d1",function(){return ln}),e.d(t,"__wbg_entries_c7bfbbfb0df03567",function(){return bn}),e.d(t,"__wbg_new_68180085d411e1be",function(){return wn}),e.d(t,"__wbg_toString_02832cd9a59ed13d",function(){return gn}),e.d(t,"__wbg_new_08f7cf32438a595a",function(){return hn}),e.d(t,"__wbg_new_09ccc084d2ce4d41",function(){return pn}),e.d(t,"__wbg_new_65ea2de65def32bc",function(){return yn}),e.d(t,"__wbg_instanceof_Promise_98a8f18a87218540",function(){return mn}),e.d(t,"__wbg_new_7884206509213d02",function(){return vn}),e.d(t,"__wbg_resolve_7f1a97b982aed82d",function(){return xn}),e.d(t,"__wbg_then_ad10ddb5ba4496f4",function(){return En}),e.d(t,"__wbg_then_bd535717286c5b54",function(){return An}),e.d(t,"__wbg_instanceof_Uint8Array_5a67531731b61e3f",function(){return Tn}),e.d(t,"__wbg_new_662b0aa231e9b27c",function(){return Rn}),e.d(t,"__wbg_newwithbyteoffsetandlength_533a05dbfbcbee36",function(){return jn}),e.d(t,"__wbg_buffer_753594aef939ab1d",function(){return Sn}),e.d(t,"__wbg_slice_cf1634eadc553398",function(){return On}),e.d(t,"__wbg_length_7b1c5e3634bc9051",function(){return Cn}),e.d(t,"__wbg_byteLength_50d6b93074b674b7",function(){return qn}),e.d(t,"__wbg_set_55ad9d0789844e32",function(){return Un}),e.d(t,"__wbg_apply_55457f1f76717634",function(){return Bn}),e.d(t,"__wbg_construct_faa66c93f8e04ae3",function(){return Zn}),e.d(t,"__wbg_construct_aa481d4ce752aae9",function(){return $n}),e.d(t,"__wbg_get_48d637c66043532c",function(){return kn}),e.d(t,"__wbg_set_8866dbb36cf947cb",function(){return Wn}),e.d(t,"__wbg_new_fdc630d73c0c2cf4",function(){return zn}),e.d(t,"__wbg_buffer_0b401f8e593a961e",function(){return Fn}),e.d(t,"__wbindgen_string_new",function(){return In}),e.d(t,"__wbindgen_number_new",function(){return Nn}),e.d(t,"__wbindgen_number_get",function(){return Hn}),e.d(t,"__wbindgen_is_null",function(){return Pn}),e.d(t,"__wbindgen_is_undefined",function(){return Ln}),e.d(t,"__wbindgen_boolean_get",function(){return Vn}),e.d(t,"__wbindgen_is_object",function(){return Dn}),e.d(t,"__wbindgen_is_function",function(){return Mn}),e.d(t,"__wbindgen_string_get",function(){return Jn}),e.d(t,"__wbindgen_debug_string",function(){return Yn}),e.d(t,"__wbindgen_cb_drop",function(){return Kn}),e.d(t,"__wbindgen_cb_forget",function(){return Xn}),e.d(t,"__wbindgen_memory",function(){return Gn}),e.d(t,"__wbindgen_rethrow",function(){return Qn}),e.d(t,"__wbindgen_throw",function(){return nt}),e.d(t,"__wbindgen_closure_wrapper160",function(){return tt}),e.d(t,"__wbindgen_closure_wrapper162",function(){return et}),e.d(t,"__wbindgen_closure_wrapper674",function(){return rt}),e.d(t,"__wbg_virtualmachine_new",function(){return it}),e.d(t,"VirtualMachine",function(){return ut}),e.d(t,"vmStore",function(){return ct}),e.d(t,"__wbindgen_object_clone_ref",function(){return ot}),e.d(t,"__wbindgen_object_drop_ref",function(){return _t});let u,c=0,o=new TextEncoder("utf-8"),_=null;function f(){return null!==_&&_.buffer===r.i.buffer||(_=new Uint8Array(r.i.buffer)),_}u="function"==typeof o.encodeInto?function(n){let t=n.length,e=r.f(t),i=0;{const t=f();for(;i<n.length;i++){const r=n.charCodeAt(i);if(r>127)break;t[e+i]=r}}if(i!==n.length){n=n.slice(i),e=r.g(e,t,t=i+3*n.length);const u=f().subarray(e+i,e+t);i+=o.encodeInto(n,u).written}return c=i,e}:function(n){let t=n.length,e=r.f(t),i=0;{const t=f();for(;i<n.length;i++){const r=n.charCodeAt(i);if(r>127)break;t[e+i]=r}}if(i!==n.length){const u=o.encode(n.slice(i));e=r.g(e,t,t=i+u.length),f().set(u,e+i),i+=u.length}return c=i,e};const a=new Array(32);a.fill(void 0),a.push(void 0,null,!0,!1);let s=a.length;function d(n){s===a.length&&a.push(a.length+1);const t=s;return s=a[t],a[t]=n,t}function l(n){return null==n}function b(n){return a[n]}function w(n){n<36||(a[n]=s,s=n)}function g(n){const t=b(n);return w(n),t}function h(n,t){const e=u(n),i=c;return g(r.j(e,i,l(t)?0:d(t)))}let p=null;function y(){return null!==p&&p.buffer===r.i.buffer||(p=new Uint32Array(r.i.buffer)),p}function m(n,t){const e=y();e[n/4]=1,e[n/4+1]=d(t)}function v(n,t,e){try{return r=b(n),b(t)in Object(r)}catch(n){m(e,n)}var r}function x(n,t,e){try{return d((r=b(n),i=b(t),r[i]))}catch(n){m(e,n)}var r,i}function E(n,t,e,r){try{i=b(n),u=b(t),c=b(e),i[u]=c}catch(n){m(r,n)}var i,u,c}function A(n,t){const e=u(typeof b(t));const r=c,i=y();i[n/4]=e,i[n/4+1]=r}function T(n,t,e){try{return r=b(n),i=b(t),r instanceof i}catch(n){m(e,n)}var r,i}let R=null;function j(n){console.log(...b(n))}let S=new TextDecoder("utf-8");function O(n,t){return S.decode(f().subarray(n,n+t))}function C(n,t,e,r){let i=O(t,e);try{const t=b(n).querySelector(i);return l(t)?0:d(t)}catch(n){m(r,n)}}function q(n,t,e,r){let i=O(e,r);const o=b(t).getAttribute(i),_=l(o)?[0,0]:u(o),f=c,a=y();a[n/4]=_,a[n/4+1]=f}function U(n,t,e,r,i,u){let c=O(t,e),o=O(r,i);try{b(n).setAttribute(c,o)}catch(n){m(u,n)}}function B(n,t,e,r,i,u){let c=O(t,e),o=O(r,i);try{b(n).set(c,o)}catch(n){m(u,n)}}function Z(n,t,e,r){let i=O(n,t);try{return d(new Request(i,b(e)))}catch(n){m(r,n)}}function $(n){return d(b(n).headers)}function k(n){return b(n)instanceof Response?1:0}function W(n,t){try{return d(b(n).arrayBuffer())}catch(n){m(t,n)}}function z(n,t){try{return d(b(n).json())}catch(n){m(t,n)}}function F(n,t){try{return d(b(n).text())}catch(n){m(t,n)}}function I(n){return b(n)instanceof Window?1:0}function N(n,t,e){try{b(n).cancelAnimationFrame(t)}catch(n){m(e,n)}}function H(n,t,e){try{return b(n).requestAnimationFrame(b(t))}catch(n){m(e,n)}}function P(n){const t=b(n).document;return l(t)?0:d(t)}function L(n,t){return d(b(n).fetch(b(t)))}function V(){return d(new Array)}function D(n){return Array.isArray(b(n))}function M(n,t){return b(n).push(b(t))}function J(n){return b(n)instanceof ArrayBuffer?1:0}function Y(n){return ArrayBuffer.isView(b(n))}function K(n){return d(b(n).values())}function X(n){return b(n)instanceof Error?1:0}function G(n,t){let e=O(n,t);return d(new Error(e))}function Q(n){return d(b(n).message)}function nn(n){return d(b(n).name)}function tn(n){return d(b(n).toString())}function en(n,t){let e=O(n,t);return d(new Function(e))}function rn(n,t,e,r){try{return d(b(n).apply(b(t),b(e)))}catch(n){m(r,n)}}function un(n,t,e){try{return d(b(n).call(b(t)))}catch(n){m(e,n)}}function cn(n,t,e,r){try{return d(b(n).call(b(t),b(e)))}catch(n){m(r,n)}}function on(){return d(new Map)}function _n(n,t,e){return d(b(n).set(b(t),b(e)))}function fn(n,t){try{return d(b(n).next())}catch(n){m(t,n)}}function an(n){return b(n).done}function sn(n){return d(b(n).value)}function dn(n){return b(n)instanceof Object?1:0}function ln(n){return d(Object.create(b(n)))}function bn(n){return d(Object.entries(b(n)))}function wn(){return d(new Object)}function gn(n){return d(b(n).toString())}function hn(n,t){let e=O(n,t);return d(new ReferenceError(e))}function pn(n,t){let e=O(n,t);return d(new SyntaxError(e))}function yn(n,t){let e=O(n,t);return d(new TypeError(e))}function mn(n){return b(n)instanceof Promise?1:0}function vn(n,t){let e=function(n,t){let e=this.a;this.a=0;try{return this.f(e,this.b,d(n),d(t))}finally{this.a=e}};e.f=r.a.get(2794),e.a=n,e.b=t;try{return d(new Promise(e.bind(e)))}finally{e.a=e.b=0}}function xn(n){return d(Promise.resolve(b(n)))}function En(n,t){return d(b(n).then(b(t)))}function An(n,t,e){return d(b(n).then(b(t),b(e)))}function Tn(n){return b(n)instanceof Uint8Array?1:0}function Rn(n){return d(new Uint8Array(b(n)))}function jn(n,t,e){return d(new Uint8Array(b(n),t>>>0,e>>>0))}function Sn(n){return d(b(n).buffer)}function On(n,t,e){return d(b(n).slice(t>>>0,e>>>0))}function Cn(n){return b(n).length}function qn(n){return b(n).byteLength}function Un(n,t,e){b(n).set(b(t),e>>>0)}function Bn(n,t,e,r){try{return d(Reflect.apply(b(n),b(t),b(e)))}catch(n){m(r,n)}}function Zn(n,t,e){try{return d(Reflect.construct(b(n),b(t)))}catch(n){m(e,n)}}function $n(n,t,e,r){try{return d(Reflect.construct(b(n),b(t),b(e)))}catch(n){m(r,n)}}function kn(n,t,e){try{return d(Reflect.get(b(n),b(t)))}catch(n){m(e,n)}}function Wn(n,t,e,r){try{return Reflect.set(b(n),b(t),b(e))}catch(n){m(r,n)}}function zn(n,t){let e=O(n,t);return d(new WebAssembly.RuntimeError(e))}function Fn(n){return d(b(n).buffer)}function In(n,t){return d(O(n,t))}function Nn(n){return d(n)}function Hn(n,t){let e=b(n);return"number"==typeof e?e:(f()[t]=1,0)}function Pn(n){return null===b(n)?1:0}function Ln(n){return void 0===b(n)?1:0}function Vn(n){let t=b(n);return"boolean"==typeof t?t?1:0:2}function Dn(n){const t=b(n);return"object"==typeof t&&null!==t?1:0}function Mn(n){return"function"==typeof b(n)?1:0}function Jn(n,t){let e=b(n);if("string"!=typeof e)return 0;const r=u(e);return y()[t/4]=c,r}function Yn(n,t){const e=n=>{const t=typeof n;if("number"==t||"boolean"==t||null==n)return`${n}`;if("string"==t)return`"${n}"`;if("symbol"==t){const t=n.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=n.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(n)){const t=n.length;let r="[";t>0&&(r+=e(n[0]));for(let i=1;i<t;i++)r+=", "+e(n[i]);return r+="]"}const i=/\[object ([^\]]+)\]/.exec(r.call(n));let u;if(!(i.length>1))return r.call(n);if("Object"==(u=i[1]))try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n        ${n.stack}`:u},r=Object.prototype.toString,i=b(n),o=e(i),_=u(o);return y()[t/4]=c,_}function Kn(n){const t=g(n).original;return 1==t.cnt--?(t.a=0,1):0}const Xn=w;function Gn(){return d(r.i)}function Qn(n){throw g(n)}function nt(n,t){throw new Error(O(n,t))}function tt(n,t,e){const i=r.a.get(37),u=r.a.get(38),c=function(n){this.cnt++;try{return i(this.a,t,n)}finally{0==--this.cnt&&(u(this.a,t),this.a=0)}};c.a=n,c.cnt=1;let o=c.bind(c);return o.original=c,d(o)}function et(n,t,e){const i=r.a.get(41),u=r.a.get(38),c=function(n,e){this.cnt++;let r=this.a;this.a=0;try{return g(i(r,t,l(n)?0:d(n),l(e)?0:d(e)))}finally{0==--this.cnt?u(r,t):this.a=r}};c.a=n,c.cnt=1;let o=c.bind(c);return o.original=c,d(o)}function rt(n,t,e){const i=r.a.get(204),u=r.a.get(205),c=function(n){this.cnt++;let e=this.a;this.a=0;try{return i(e,t,d(n))}finally{0==--this.cnt?u(e,t):this.a=e}};c.a=n,c.cnt=1;let o=c.bind(c);return o.original=c,d(o)}function it(n){return d(ut.__wrap(n))}class ut{static __wrap(n){const t=Object.create(ut.prototype);return t.ptr=n,t}free(){const n=this.ptr;this.ptr=0,function(n){r.b(n)}(n)}valid(){return 0!==r.t(this.ptr)}assert_valid(){return r.m(this.ptr)}destroy(){return r.n(this.ptr)}addToScope(n,t){const e=u(n),i=c;return r.l(this.ptr,e,i,d(t))}setStdout(n){return r.s(this.ptr,d(n))}injectModule(n,t){const e=u(n),i=c;return r.r(this.ptr,e,i,d(t))}exec(n){const t=u(n),e=c;return g(r.p(this.ptr,t,e))}eval(n){const t=u(n),e=c;return g(r.o(this.ptr,t,e))}execSingle(n){const t=u(n),e=c;return g(r.q(this.ptr,t,e))}}class ct{free(){const n=this.ptr;this.ptr=0,function(n){r.c(n)}(n)}static init(n,t){const e=u(n),i=c;return ut.__wrap(r.x(e,i,l(t)?16777215:t?1:0))}static get(n){const t=u(n),e=c;return g(r.v(t,e))}static destroy(n){const t=u(n),e=c;return r.u(t,e)}static ids(){const n=(null===R&&(R=r.e()),R);r.w(n);const t=y(),e=t[n/4],i=t[n/4+1],u=function(n,t){const e=y().subarray(n/4,n/4+t),r=[];for(let n=0;n<e.length;n++)r.push(g(e[n]));return r}(e,i).slice();return r.d(e,4*i),u}}function ot(n){return d(b(n))}function _t(n){w(n)}r.h()},70:function(n,t,e){"use strict";var r=e.w[n.i];n.exports=r;e(5);r.y()},71:function(n,t,e){var r={"./fetch.py":72,"./fibonacci.py":73,"./fizzbuzz.py":74,"./mandelbrot.py":75};function i(n){var t=u(n);return e(t)}function u(n){if(!e.o(r,n)){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}return r[n]}i.keys=function(){return Object.keys(r)},i.resolve=u,n.exports=i,i.id=71},72:function(n,t){n.exports='from browser import fetch\n\ndef fetch_handler(res):\n    print(f"headers: {res[\'headers\']}")\n\nfetch(\n    "https://httpbin.org/get",\n    response_format="json",\n    headers={\n        "X-Header-Thing": "rustpython is neat!"\n    },\n).then(fetch_handler, lambda err: print(f"error: {err}"))\n'},73:function(n,t){n.exports='n1 = 0\nn2 = 1\ncount = 0\nuntil = 10\n\nprint(f"These are the first {until} numbers in the Fibonacci sequence:")\n\nwhile count < until:\n    print(n1)\n    n1, n2 = n2, n1 + n2\n    count += 1\n'},74:function(n,t){n.exports='for i in range(1, 100):\n    print(f"{i} ", end="")\n    if not i % 3:\n        print("fizz", end="")\n    if not i % 5:\n        print("buzz", end="")\n    print()\n'},75:function(n,t){n.exports="w = 50.0\nh = 50.0\n\ndef mandel():\n    \"\"\"Print a mandelbrot fractal to the console, yielding after each character is printed\"\"\"\n    y = 0.0\n    while y < h:\n        x = 0.0\n        while x < w:\n            Zr, Zi, Tr, Ti = 0.0, 0.0, 0.0, 0.0\n            Cr = 2 * x / w - 1.5\n            Ci = 2 * y / h - 1.0\n\n            i = 0\n            while i < 50 and Tr + Ti <= 4:\n                Zi = 2 * Zr * Zi + Ci\n                Zr = Tr - Ti + Cr\n                Tr = Zr * Zr\n                Ti = Zi * Zi\n                i += 1\n\n            if Tr + Ti <= 4:\n                print('*', end='')\n            else:\n                print('·', end='')\n\n            x += 1\n            yield\n\n        print()\n        y += 1\n        yield\n\n# run the mandelbrot\n\ntry: from browser import request_animation_frame\nexcept: request_animation_frame = None\n\ngen = mandel()\ndef gen_cb(_time=None):\n    for _ in range(4): gen.__next__()\n    request_animation_frame(gen_cb)\nif request_animation_frame: gen_cb()\nelse: any(gen)\n"}}]);